<!DOCTYPE html>
<html lang="zh-CN">










<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="author" content="chuddy">
    <meta name="keywords" content="">
    <title>CTF中常见的web ~ chuddy&#39;s Blog</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.2/css/all.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.7.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.7.4/css/mdb.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_1067060_vr10bjtg3us.css">
    
        <link rel="stylesheet" href="/css/Prettify/tomorrow-night-eighties.min.css">
    
</head>

<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
<div class="container">
    <a class="navbar-brand" href="/"><strong>chuddy&#39;s Blog</strong></a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto text-center">
            
            <li class="nav-item">
                <a class="nav-link" href="/">Home</a>
            </li>
            
            <li class="nav-item">
                <a class="nav-link" href="/archives/">Archives</a>
            </li>
            
        </ul>
    </div>
</div>


</nav>
    <div class="view intro-2" style='background: url("/post.jpg")no-repeat center center;background-size: cover;'>
    <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
        <div class="container text-center white-text wow fadeInUp">
            <p class="h2">CTF中常见的web</p>
            <br>
            
            <p>Sunday, March 10th 2019, 3:18 pm</p>
            
        </div>
        </div>
    </div>
    </div>
  </header>

  <main>
  
  <div class="container-fluid">
    <div class="row">
        <div class="col-md-8 offset-md-2 ">
            <div class="post-content py-5 z-depth-3 main">
                <h2 id="CTF常见的web题"><a href="#CTF常见的web题" class="headerlink" title="CTF常见的web题"></a>CTF常见的web题</h2><h3 id="网页注释"><a href="#网页注释" class="headerlink" title="网页注释"></a>网页注释</h3><p>有些题会在网页注释给出提示信息，比如给出一部分源码</p>
<a id="more"></a>
<h3 id="表单标签的属性"><a href="#表单标签的属性" class="headerlink" title="表单标签的属性"></a>表单标签的属性</h3><p>比如修改input标签的maxlenth属性来得到flag</p>
<h3 id="伪造IP"><a href="#伪造IP" class="headerlink" title="伪造IP"></a>伪造IP</h3><p>X-Forwarded-For:127.0.0.1</p>
<h3 id="body标签之外"><a href="#body标签之外" class="headerlink" title="body标签之外"></a>body标签之外</h3><p>有时候题目作者会把提示放在body标签和html标签之间，这样提示不会出现在网页页面，需要查看网页源码才能看到。</p>
<h3 id="数据包"><a href="#数据包" class="headerlink" title="数据包"></a>数据包</h3><p>信息隐藏在数据包的请求头和响应头里，通过抓包来获取</p>
<h3 id="robots-txt"><a href="#robots-txt" class="headerlink" title="robots.txt"></a>robots.txt</h3><p>一般网站会有robots.txt来规范爬虫的行为，利用robots.txt有可能获取到网站重要文件所在的位置</p>
<h3 id="备份文件（还没见过）"><a href="#备份文件（还没见过）" class="headerlink" title="备份文件（还没见过）"></a>备份文件（还没见过）</h3><p>某些编译器会在编译时生成一些备份文件，如果不写正确处理这些文件，黑客可以利用这些文件来还原源码如：</p>
<ul>
<li>网站备份压缩<ul>
<li>.rar</li>
<li>.zip</li>
<li>.7z</li>
<li>.tar.gz</li>
<li>.bak</li>
</ul>
</li>
</ul>
<h2 id="PHP代码审计-常见漏洞"><a href="#PHP代码审计-常见漏洞" class="headerlink" title="PHP代码审计(常见漏洞)"></a>PHP代码审计(常见漏洞)</h2><h3 id="is-numeric-mixed-var"><a href="#is-numeric-mixed-var" class="headerlink" title="is_numeric(mixed $var)"></a>is_numeric(mixed $var)</h3><p>这是检测变量是否为数字或者数字字符串</p>
<p>有时候会需要绕过该函数的判断，课以利用科学计数法 如 1 == 1E+0</p>
<h3 id="strip-tags-string-allow-的逻辑错误"><a href="#strip-tags-string-allow-的逻辑错误" class="headerlink" title="strip_tags(string allow)的逻辑错误"></a>strip_tags(string allow)的逻辑错误</h3><p>这是一个剥去字符串中html、xml以及php的标签的函数。 allow可选。规定允许的标签，这些标签会不会被删除</p>
<p>有些代码会将该函数放在过滤代码之后，那么可以通过在payload中嵌入HTML、XML 以及PHP标签的方式绕过之前的过滤代码。</p>
<h3 id="urldecode-逻辑漏洞"><a href="#urldecode-逻辑漏洞" class="headerlink" title="urldecode()逻辑漏洞"></a>urldecode()逻辑漏洞</h3><p>同strip_tags(),将该函数放在判断函数之后的话可通过对payload的二次url编码绕过之前的判断函数。</p>
<h3 id="本地包含"><a href="#本地包含" class="headerlink" title="本地包含"></a>本地包含</h3><ul>
<li>eval()函数把字符串按照PHP代码执行</li>
<li>var_dump()打印变量的相关信息</li>
<li>show_source() 函数对文件进行语法高亮显示</li>
</ul>
<p>如果以上变量函数可控且未经处理，可执行恶意代码</p>
<h3 id="GLOBALS"><a href="#GLOBALS" class="headerlink" title="$GLOBALS"></a>$GLOBALS</h3><p>$GLOBALS：是一个数组，包含了全局作用域中可用的全部变量。变量的名字就是数组的键。<br>合理利用$GLOBALS全局变量也许可以获得可利用变量信息。常与var_dump()函数连用。</p>
<h2 id="php-伪协议"><a href="#php-伪协议" class="headerlink" title="php://伪协议"></a>php://伪协议</h2><h3 id="php-filter伪协议"><a href="#php-filter伪协议" class="headerlink" title="php://filter伪协议"></a>php://filter伪协议</h3><p>php://filter 的参数列表</p>
<ul>
<li>read      读取</li>
<li>write     写入</li>
<li>resource  数据来源(必须的)</li>
</ul>
<p>read参数值可以为</p>
<ul>
<li>string.stip_tags  将数据流中的HTML标签清除</li>
<li>string.toupper    将数据流中的内容转换为大写</li>
<li>string.tolower    将数据流中的内容转换为小写</li>
<li>convert.base64-encode 将数据流中的内容转换为base64编码</li>
<li>convertr.base64-decode    与上面对应的解码</li>
</ul>
<p>利用这个函数漏洞需和文件包含漏洞一起使用，可以读取网页的PHP源代码</p>
<pre><code>index.php?file=php://filter/read=convert.base64-encode/resource=index.php
</code></pre><h3 id="php-input-一句话木马"><a href="#php-input-一句话木马" class="headerlink" title="php://input  一句话木马"></a>php://input  一句话木马</h3><p>php://input 用来接收post数据的</p>
<p>可以接收一句话木马<br>&lt;?php eval($_POST[‘a’]); ?&gt;</p>

                <hr>
                <div>
                    <p>
                         
                        <span class="badge badge-light">#&nbsp;CTF</span>
                        &nbsp;
                        
                    </p>
                </div>
                <br>
                
            </div>
        </div>
        <div class="d-none d-md-block col-md-2">
            
  <div id="toc" class="py-5">
    <p class="h6"><i class="iconfont icon-toc" style="vertical-align:middle"></i> Toc:</p> 
    <div id="tocbot"></div>
  </div>

        </div>
    </div>        
</div>

<br><br><br>

<!-- Comments -->
<div class="comments" id="comments">
 
</div>
  
  </main>

<footer class="mt-5">
  <div class="text-center py-3">
    <a href="https://hexo.io" target="_blank"><b>HEXO</b></a>
    <i class="iconfont icon-love"></i>
    <a href="https://github.com/0x2e/Material-T" target="_blank"> <b>Material-T</b></a>
  </div>
</footer>

  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.7.4/js/jquery-3.3.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.7.4/js/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.7.4/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.7.4/js/mdb.min.js"></script>
  <script src="/js/main.js"></script>
  
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
    
    <script src="/js/post.js"></script>
    
      <script src="/js/plugins/prettify.js"></script>
      <script>
          $(document).ready(function(){
              $('pre').addClass('prettyprint linenums');
              prettyPrint();
          })
      </script>
    
  
</body>
</html>