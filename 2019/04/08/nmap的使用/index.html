<!DOCTYPE html>
<html lang="zh-CN">










<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="author" content="chuddy">
    <meta name="keywords" content="">
    <title>nmap的使用 ~ chuddy&#39;s Blog</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.2/css/all.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.7.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.7.4/css/mdb.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_1067060_vr10bjtg3us.css">
    
        <link rel="stylesheet" href="/css/Prettify/tomorrow-night-eighties.min.css">
    
</head>

<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
<div class="container">
    <a class="navbar-brand" href="/"><strong>chuddy&#39;s Blog</strong></a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto text-center">
            
            <li class="nav-item">
                <a class="nav-link" href="/">Home</a>
            </li>
            
            <li class="nav-item">
                <a class="nav-link" href="/archives/">Archives</a>
            </li>
            
        </ul>
    </div>
</div>


</nav>
    <div class="view intro-2" style='background: url("/post.jpg")no-repeat center center;background-size: cover;'>
    <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
        <div class="container text-center white-text wow fadeInUp">
            <p class="h2">nmap的使用</p>
            <br>
            
            <p>Monday, April 8th 2019, 11:13 pm</p>
            
        </div>
        </div>
    </div>
    </div>
  </header>

  <main>
  
  <div class="container-fluid">
    <div class="row">
        <div class="col-md-8 offset-md-2 ">
            <div class="post-content py-5 z-depth-3 main">
                <h1 id="nmap"><a href="#nmap" class="headerlink" title="nmap"></a>nmap</h1><p>NMap，也就是Network Mapper，是Linux下的网络扫描和嗅探工具包。<br><a id="more"></a></p>
<h2 id="nmap的主要功能"><a href="#nmap的主要功能" class="headerlink" title="nmap的主要功能"></a>nmap的主要功能</h2><ol>
<li>探测一组主机是否在线</li>
<li>扫描主机的端口，嗅探所提供的网络服务</li>
<li>推断主机所使用的操作系统</li>
</ol>
<h2 id="nmap-端口状态的判断"><a href="#nmap-端口状态的判断" class="headerlink" title="nmap 端口状态的判断"></a>nmap 端口状态的判断</h2><pre><code>open : 应用程序在该端口接受TCP连接或者UDP报文
closed ：关闭的端口对于nmap也是可访问的， 它接收nmap探测报文并作出响应。但没有应用程序在其上监听。
filtered ：由于包过滤阻止探测报文到达端口，nmap无法确定该端口是否开放。过滤可能来自专业的防火墙设备，路由规则 或者主机上的软件防火墙。
unfiltered ：未被过滤状态意味着端口可访问，但是nmap无法确定它是开放还是关闭。 只有用于映射防火墙规则集的 ACK 扫描才会把端口分类到这个状态。
open | filtered ：无法确定端口是开放还是被过滤， 开放的端口不响应就是一个例子。没有响应也可能意味着报文过滤器丢弃了探测报文或者它引发的任何反应。UDP，IP协议,FIN, Null 等扫描会引起。
closed|filtered：（关闭或者被过滤的）：无法确定端口是关闭的还是被过滤的
</code></pre><h2 id="nmap的基础语法"><a href="#nmap的基础语法" class="headerlink" title="nmap的基础语法"></a>nmap的基础语法</h2><ul>
<li>namp -A [ip地址]<pre><code>全面扫描指定IP
</code></pre></li>
<li>namp 192.168.1.1/24<pre><code>扫描整个子网
</code></pre></li>
<li>nmap  [ip地址1] [ip地址2]<pre><code>扫描多个目标
</code></pre></li>
<li>nmap 192.168.1.1-100<pre><code>扫描一个范围内的目标
扫描ip地址为192.168.1.1-192.168.1.100内的所有主机
</code></pre></li>
<li>nmap -iL 1.txt<pre><code>扫描1.txt下的所有的IP列表
</code></pre></li>
<li>nmap -sL 192.168.1.1/24<pre><code>可以看到你扫描的所有主机的列表
</code></pre></li>
<li>nmap 192.168.1.1/24 -exclude 192.168.1.1<pre><code>扫描除了某一个ip外的所有子网主机
</code></pre></li>
<li>nmap 192.168.1.1/24 -exclude 1.txt<br><code>`</code><br>扫描除了某一个文件中ip外的子网主机</li>
</ul>
<pre><code>- nmap -p80,21,23 192.168.1.1
</code></pre><p>扫描特定主机的80，21，23端口</p>
<pre><code>- nmap -p 80-160 192.168.0.101
</code></pre><p>扫描指定范围内的端口</p>
<pre><code>- nmap 192.168.0.101,102,103
</code></pre><p>使用IP地址的最后一个字节扫描多台服务器</p>
<pre><code>以上为nmap的最常用的基础命令

- nmap -sP 192.168.43.8/24
</code></pre><p>ping扫描方式，只进行ping，然后显示在线的主机。这样获取目标信息而不会被轻易发现发现。<br>ping扫描只是判断主机是否存活在网络中。</p>
<pre><code>- nmap -P0 192.168.1.1
</code></pre><p>无ping扫描：通常用于防火墙禁止ping的情况下，它能确定正在运行的机器。</p>
<p>nmap -P0 [协议1、协议2] [目标ip]<br>nmap支持的协议和编号<br>1.tcp:对应的协议编号为6<br>2.ICMP:对应的协议编号为1<br>3.IGMP：对应的协议编号为2<br>4.UDP：对应的协议编号为17<br>通过使用TCP、UDP、IGMP协议向目标主机发送包并判断目标主机是否在线</p>
<pre><code>- nmap -sS 192.168.1.1
</code></pre><p>不会在目标主机产生日志信息，通过TCP的SYN包获取主机信息</p>
<pre><code>- nmap -sT 192.168.1.1
</code></pre><p>适用于找出TCP和UDP端口</p>
<pre><code>- nmap -sU 192.168.1.1
</code></pre><p>用来扫描主机打开的UDP端口：不会发送syn包，通过发送udp数据包到目标主机，等待目标主机响应，返回ICMP不可达，代表端口关闭。</p>
<pre><code>- nmap -sF 192.168.1.1
</code></pre><p>不会在目标主机产生日志信息<br>如果TCP SYN被防火墙拦截，用FIN标志的数据包获取主机信息。（FIN重置位，用来代表断开连接）</p>
<pre><code>- nmap -sV 192.168.1.1
</code></pre><p>扫描目标主机的端口上运行的软件版本</p>
<p>它不是用于扫描目标主机开放的端口，但需要从开放的端口获取信息来判断软件的版本，所以需要先进行端口扫描。</p>
<pre><code>- nmap -sL 192.168.1.7  192.168.1.1
</code></pre><p>伪装一个主机的ip发送扫描数据包</p>
<pre><code>- nmap -A 192.168.1.1
</code></pre><p>检测目标主机系统信息和路由信息</p>
<pre><code>- nmap -O 192.168.1.1
</code></pre><p>检测目标主机操作系统和软件</p>
<pre><code>- nmap -sA 192.168.1.1
</code></pre><p>扫描住的侦测防火墙</p>
<pre><code>- nmap -PN 192.168.1.1
</code></pre><p>扫描主机是不是由防火墙的保护</p>
<pre><code>- nmap -F 192.168.1.1
</code></pre><p>快速扫描，仅扫描列在nmap-services文件中的端口而避开所有其他端口</p>
<pre><code>- nmap  -r 192.168.1.1
</code></pre><p>顺序扫描端口</p>
<pre><code>- nmap --iflist
</code></pre><p>打印本地主机接口和路由</p>
<pre><code>- nmap -sN 192.168.1.1
</code></pre><p>TCP空扫描<br><code>`</code></p>

                <hr>
                <div>
                    <p>
                         
                        <span class="badge badge-light">#&nbsp;安全工具</span>
                        &nbsp;
                        
                    </p>
                </div>
                <br>
                
            </div>
        </div>
        <div class="d-none d-md-block col-md-2">
            
  <div id="toc" class="py-5">
    <p class="h6"><i class="iconfont icon-toc" style="vertical-align:middle"></i> Toc:</p> 
    <div id="tocbot"></div>
  </div>

        </div>
    </div>        
</div>

<br><br><br>

<!-- Comments -->
<div class="comments" id="comments">
 
</div>
  
  </main>

<footer class="mt-5">
  <div class="text-center py-3">
    <a href="https://hexo.io" target="_blank"><b>HEXO</b></a>
    <i class="iconfont icon-love"></i>
    <a href="https://github.com/0x2e/Material-T" target="_blank"> <b>Material-T</b></a>
  </div>
</footer>

  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.7.4/js/jquery-3.3.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.7.4/js/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.7.4/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.7.4/js/mdb.min.js"></script>
  <script src="/js/main.js"></script>
  
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
    
    <script src="/js/post.js"></script>
    
      <script src="/js/plugins/prettify.js"></script>
      <script>
          $(document).ready(function(){
              $('pre').addClass('prettyprint linenums');
              prettyPrint();
          })
      </script>
    
  
</body>
</html>